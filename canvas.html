<!DOCTYPE html> 
<html> 
<head> 
<style type="text/css">
#theCanvas{ 
} 
</style> 
</head> 
<body> 
<canvas id="theCanvas" width="400" height="400"></canvas> 
</body> 
<script type="text/javascript"> 
(function() {
  var t = 0
  var x = 1
  var initY = 100
  var oCanvas=document.getElementById("theCanvas")
  var content=oCanvas.getContext( "2d" );
  var draw = function () {
    // console.log(t)
    moveSin(t+=0.1)
    content.stroke()
    setTimeout(draw, 30)
  }
  function moveSin(t){ 
    content.clearRect(0, 0, oCanvas.width, oCanvas.height);
    content.beginPath()
    content.moveTo(1, Math.sin(-t) * 30 + initY)
    for(var i = 0; i < oCanvas.width; i+=0.1) {
      x=i*20
      y=Math.sin(i - t)*30+initY
      content.lineTo(x,y)
    // content.closePath()
    }
  } 
  setTimeout(draw, 0)
})()
</script> 
</html>